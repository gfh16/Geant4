void Ana()
{
  TH1D* h1_ESpec_Det = new TH1D("h1_ESpec_Det","h1_ESpec_Det",400,0,5);
  TH2D* h2_PosDis = new TH2D("h2_PosDis","h2_PosDis",200,-1000,1000,200,-1000,1000);
  
  TFile* f1_data = new TFile("K40_5E8.root");
  TTree* t1_data = (TTree*) f1_data->Get("t1");
  
  double Src_PosX = 0; double Src_PosY = 0; double Src_PosZ = 0;
  double Energy_Origin = 0; double Energy_Detect = 0;
  
  t1_data->SetBranchAddress("Src_PosX",&Src_PosX);
  t1_data->SetBranchAddress("Src_PosY",&Src_PosY);
  t1_data->SetBranchAddress("Src_PosZ",&Src_PosZ);
  t1_data->SetBranchAddress("Energy_Origin",&Energy_Origin);
  t1_data->SetBranchAddress("Energy_Detect",&Energy_Detect);
  
  int EvtNum = t1_data->GetEntries();
  cout<<"Evt Num: "<<EvtNum<<endl;
  
  for(int i=0;i<EvtNum;i++)
  {
    if(i%10000==0) { cout<<"Evt:"<<i<<endl; }
    t1_data->GetEntry(i);
    h1_ESpec_Det->Fill(Energy_Detect);
//    h1_ESpec_Det->Fill(Energy_Detect*(1+gRandom->Gaus(0,0.05)));
    if(Energy_Detect>1) { h2_PosDis->Fill(Src_PosX,Src_PosY); }
  }
  
  zhongStyle style_tem;
  TCanvas* c1_ESpec = new TCanvas("c1_ESpec","c1_ESpec",1);
  c1_ESpec->cd();
  h1_ESpec_Det->Draw();
  style_tem.Set_1DHisto_style(h1_ESpec_Det, "Energy Spec", "Energy(MeV)", "Count");
  
  TCanvas* c1_PosDis = new TCanvas("c1_PosDis","c1_PosDis",600,600);
  c1_PosDis->cd();
  h2_PosDis->Draw("colz");
  style_tem.Set_2DHisto_style(h2_PosDis, "Src Pos Dis", "X(mm)", "Y(mm)");
}
